<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date객체와 Math객체</title>
    <style>
        .time {
            width: 500px;
            padding: 10px;
            text-align: center;
            font-size: 42px;
            color: aqua;
            background-color: #000;
            margin: 0 auto;
        }

        /* 이미지박스 */
        .imbx {
            width: 500px;
            margin: 0 auto;
            margin-top: 100px;
        }

        .imbx img {
            width: 100%;
        }
    </style>
    <script>
        // 로드 구역
        window.addEventListener("DOMContentLoaded", () => {
            console.log("로딩완료");

            // 변경대상: .tt - 각 시간출력 요소
            const tt = document.querySelectorAll(".tt");
            console.log(tt);
            /********************************** 
                함수명: showTime
                기능: 오늘날짜, 현재시간 찍기
            **********************************/
            const showTime = () => {
                // 1. 호출확인
                // console.log("나야나");

                // 날짜 객체로 시간찍기
                // Date객체 : 날짜, 시간 표현하는 객체
                // -> 객체 생성법 : new키워드로 생성!
                // new키워드로 생성하는 순간
                // 실제 객체가 메모리에 생성됨(인스턴스)

                let today = new Date();
                // Data 객체를 메모리에 생성함!

                // 2. 출력하기
                // (1) 년도출력
                tt[0].innerHTML = today.getFullYear();
                // getFullYear() 전체년도
                // 참고) getYear()는 1900을 뺀 년도

                // (2) 월출력: tt[1]
                tt[1].innerHTML = today.getMonth() + 1;
                // getMonth() -> 0부터 시작하는 월의 순번
                // 왜 순번을 리턴하나?
                // 각 나라별로 부르는 월의 이름이 다르기 때문
                // 이 이름을 배열에 넣고 출력하게 함!
                // 0부터 시작하는 순번으로 리턴!
                // 예) ["Jan", "Feb",...] 해당순번의 달을 출력
                // 월을 숫자로 찍고 싶으면? +1 한다!

                // (3) 일출력: tt[2]
                tt[2].innerHTML = today.getDate();
                // getDate()는 날짜를 리턴함!

                // (4) 요일출력: tt[3]
                let week = ["일", "월", "화", "수", "목", "금", "토"];
                tt[3].innerHTML = week[today.getDay()];
                // getDay()는 요일의 순번을 리턴함
                // 7개의 정해진 나라별 이름을 배열로 셋팅함!
                // 0부터 시작하고 일요일부터 시작함!

                /********************************** 
                    시,분,초 두자릿수 출력함수
                **********************************/
                const addZero =
                    num => num < 10 ? "0" + num : num;
                // 10보다 작으면 한자릿 수 이므로 0을 붙여서 리턴!

                // 아래 표현법이 축약전표현임!
                // (num) => {return num < 10 ? "0" + num : num};

                // (5) 오전/오후 : tt[4]
                let noon = "오전";
                // 시간에서 오후일 경우 덮어쓰고 아래에서 출력!

                // (6) 시간 출력: tt[5]
                let H = today.getHours();
                // 시간은 24시간제로 표현됨!

                // 시간 테스트 조작!
                H = 13;

                // 12보다 크면 12를 빼고 "오후"로 noon값 변경
                if (H > 12) {
                    // H = H - 12;
                    H -= 12; // -= 대입연산자사용
                    noon = "오후";
                } // if

                // 오전/오후 출력
                tt[4].innerHTML = noon;
                // 시간출력!
                tt[5].innerHTML = addZero(H);

                // (7) 분 출력 : tt[6]
                let M = today.getMinutes();
                // 분 테스트 출력 조작
                // M = 7;
                tt[6].innerHTML = addZero(M);

                // (8) 초 출력 : tt[7]
                let S = today.getSeconds();
                // 초 테스트 출력 조작
                // S = 9;
                tt[7].innerHTML = addZero(S);

            }; // showTime

            // 최초호출 -> 익명함수는 생성 후 아래쪽에서 호출해야함!
            showTime();

            // 타이밍 함수 인터발호출하기!
            setInterval(showTime, 1000); 
            // 인터발함수 1초간격

            // 임시호출    
            // window.onclick = () => showTime();

        }); // 로드
    </script>


</head>

<body>
    <!-- 시간표시박스 -->
    <div class="time">
        <!-- 년도 -->
        <span class="year tt"></span>.
        <!-- 월 -->
        <span class="month tt"></span>.
        <!-- 일 -->
        <span class="date tt"></span>.
        <!-- 요일 -->
        (<span class="day tt"></span>) <br>
        <!-- 오전/오후 -->
        <span class="noon tt"></span>
        <!-- 시간 -->
        <span class="hour tt"></span> :
        <!-- 분 -->
        <span class="minute tt"></span> :
        <!-- 초 -->
        <span class="second tt"></span>
    </div>

    <!-- 이미지박스 -->
    <div class="imbx"></div>

</body>

</html>